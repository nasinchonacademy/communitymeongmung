<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>상품 관리 페이지</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>



<div class="mainContent1">
    <div class="form-group">
        <input type="hidden" class="seq" name="seq" th:value="${dto.seq}" readonly>
    </div>

    <hr>
    <div class="form-group">
        <input type="text" class="title" name="title" th:value="${dto.title}" readonly>
        <input type="text" class="viewcount" name="viewcount" th:value="'조회 ' + ${dto.viewcount}" readonly>
        <input type="text" class="likecountTitle" name="viewcount" th:value="'좋아요 ' + ${dto.likecount}" readonly>
    </div>

    <div class="form-group">
        <input type="text" class="writer" name="writer" th:value="${dto.nickname}" readonly>
        <input type="text" class="regdate" name="regdate" th:value="'  |  '+${#temporals.format(dto.regdate, 'yyyy/MM/dd HH:mm:ss')}" readonly>
    </div>
    <hr>

    <div class="pictureAndlikecount">
        <div class="form-groupPicture">
            <img class="dogdefault" th:src="${dto.picture != null ? '/profiles/' + dto.picture : '/image/tool/storydefault.PNG'}" alt="Profile Photo" style="width:927px;;">
        </div>

        <div class="form-group">
            <textarea class="content" name="content" th:text="${dto.content}" readonly></textarea>

        </div>

        <div class="form-group">
            <input type="hidden" class="modified" name="modified" th:value="${#temporals.format(dto.modified, 'yyyy/MM/dd HH:mm:ss')}" readonly>
        </div>

        <div class="form-group">
            <input type="text" class="writer" name="writer" th:value="${dto.nickname}" readonly>
        </div>
    </div>

    <hr>

    <!--댓글 섹션 시작-->
    <th:block th:replace="fragments/mungStory/mungCommentContent :: commentContent"></th:block>

    <!--댓글 섹션 끝-->
    <div class="modifyAndDelete" th:if="${user.nickname == dto.nickname}">
        <form class="delete-form"
              th:action="@{/admin/remove(seq=${dto.seq})}"
              method="post"
              style="display:inline;"
              onsubmit="return confirmDelete()">
            <button type="submit" class="delete-button">삭제하기</button>
        </form>
    </div>

    <div class="writephy">
        <a th:href="@{/mungstory/storywirte}" class="writeBtnAtag">
            <button type="button" class="boardwriter">글쓰기</button></a>
    </div>

    <div class="writephy">
        <a class="allthephy" th:href="@{/admin/getMeongStoryBoardList(page=${requestDTO.page}, type=${requestDTO.type}, keyword=${requestDTO.keyword})}">
            <button type="button" class="allboard">전체글</button>
        </a>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</html>