<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>상품 등록 / 수정</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

<div class="container mt-5">
<!--  <h1 th:text="${#strings.isEmpty(product) ? '상품 등록' : '상품 수정'}"></h1>-->
  <h1 th:text="${product != null && product.pid != null ? '상품 수정' : '상품 등록'}"></h1>

  <!-- 상품 등록 및 수정 폼 -->
  <form th:action="${product != null && product.pid != null ? '/updateProduct' : '/createProduct'}" method="post" enctype="multipart/form-data">
    <div class="mb-3">
      <label for="pname" class="form-label">상품명</label>
      <input type="text" class="form-control" id="pname" name="pname" th:value="${product?.pname}" required>
    </div>
    <div class="mb-3">
      <label for="pprice" class="form-label">가격</label>
      <input type="number" class="form-control" id="pprice" name="pprice" th:value="${product?.pprice}" required>
    </div>
    <div class="mb-3">
      <label for="pcategory" class="form-label">카테고리</label>
      <input type="text" class="form-control" id="pcategory" name="pcategory" th:value="${product?.pcategory}" required>
    </div>
    <div class="mb-3">
      <label for="pdescription" class="form-label">설명</label>
      <textarea class="form-control" id="pdescription" name="pdescription" rows="3" required th:text="${product?.pdescription}"></textarea>
    </div>
    <div class="mb-3">
      <label for="pcompany" class="form-label">브랜드</label>
      <input type="text" class="form-control" id="pcompany" name="pcompany" th:value="${product?.pcompany}" required>
    </div>
    <div class="mb-3">
      <label for="pstock" class="form-label">재고</label>
      <input type="number" class="form-control" id="pstock" name="pstock" th:value="${product?.pstock}" required>
    </div>
    <div class="mb-3">
      <label for="productFile" class="form-label">상품 이미지</label>
      <input type="file" class="form-control" id="productFile" name="productFile" th:required="${product?.pid == null}">
    </div>

    <input type="hidden" name="productId" th:value="${product?.pid}"/>

    <button type="submit" class="btn btn-primary">저장</button>
    <a href="/productMain" class="btn btn-secondary">취소</a>
  </form>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
